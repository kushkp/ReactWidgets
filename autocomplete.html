<html>
  <head>
    <title>Autocomplete Input</title>
    <script src="https://fb.me/react-0.13.3.js"></script>
    <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
  </head>
  <body>
    <div id="component">
    </div>

    <script type="text/jsx">
       var names = ["Mark", "Michelle", "Mitchell", "Maggie", "Mike", "Michael", "Megan", "Meg", "Mildred", "Edward", "Sam", "Robert", "Nick", "Alan", "Milf"];

      var Autocomplete = React.createClass({
        getInitialState: function() {
          return {searchInput: "", listings: this.props.items};
        },
        filterListings: function(e) {
          this.setState({
            searchInput: e.target.value.toLowerCase(),
            listings: this.props.items.filter(function(value) {
              testVal = value.substr(0,this.state.searchInput.length);
              return testVal.toLowerCase() === this.state.searchInput;
            }.bind(this))
          });
        },
        render: function() {
          return (
            <div>
              <input type="text"
                     id="inputField"
                     onKeyDown={this.filterListings}>
              </input>
              <ul className="possibleValues">
                { this.state.listings.map(function(name, index) {
                  return <li>{name}</li>;
                }) }
              </ul>
            </div>
          );
        }
      });

      React.render(
        React.createElement(Autocomplete, {items: names}, ""),
        document.getElementById('component')
      );
    </script>
  </body>
</html>
